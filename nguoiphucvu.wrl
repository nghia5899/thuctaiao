#VRML V2.0 utf8

	 DEF nguoi Transform {
	translation	 0 0 0
	children [
		DEF	touch1 TouchSensor { enabled  TRUE }
Shape {
			geometry Extrusion {
				crossSection [
1.00	0.00
0.98	0.20
0.92	0.38
0.83	0.56
0.71	0.71
0.56	0.83
0.38	0.92
0.20	0.98
0.00	1.00
-0.20	0.98
-0.38	0.92
-0.56	0.83
-0.71	0.71
-0.83	0.56
-0.92	0.38
-0.98	0.20
-1.00	0.00
-0.98	-0.20
-0.92	-0.38
-0.83	-0.56
-0.71	-0.71
-0.56	-0.83
-0.38	-0.92
-0.20	-0.98
0.00	-1.00
0.20	-0.98
0.38	-0.92
0.56	-0.83
0.71	-0.71
0.83	-0.56
0.92	-0.38
0.98	-0.20
1	0
				]

		spine [0 0 0,0 0.2 0,0 2.25 0,0 2.3 0,0 2.35 0, 0 2.4 0, 0 2.45 0, 0 2.5 0]
		scale [0.75 0.4,0.7 0.35,1 0.5,0.95 0.47,0.9 0.44,0.55 0.37,0.4 0.36,0.35 0.35]
		#creaseAngle	 0.2
		solid FALSE
	
			}
			appearance DEF clother Appearance {
				texture ImageTexture {
		 
		 url "gile.jpg"}
			
			}
		}
#dau 
Transform {
			translation	0 2.55 0
			children[
	    		Shape {
					geometry Cylinder {
						height 0.1
						radius 0.31
					}
					appearance DEF skin Appearance {
						material Material {
							diffuseColor 0.95 0.859 0.659
						}
					}
				}	
				
				Transform {
					translation	0 0 0
					scale 1 1.05 1
					children [Shape {
			geometry Extrusion {
				crossSection [
				1.00	0.00
				0.98	0.20
				0.92	0.38
				0.83	0.56
				0.71	0.71
				0.56	0.83
				0.38	0.92
				0.20	0.98
				0.00	1.00
				-0.20	0.98
				-0.38	0.92
				-0.56	0.83
				-0.71	0.71
				-0.83	0.56
				-0.92	0.38
				-0.98	0.20
				-1.00	0.00
				-0.98	-0.20
				-0.92	-0.38
				-0.83	-0.56
				-0.71	-0.71
				-0.56	-0.83
				-0.38	-0.92
				-0.20	-0.98
				0.00	-1.00
				0.20	-0.98
				0.38	-0.92
				0.56	-0.83
				0.71	-0.71
				0.83	-0.56
				0.92	-0.38
				0.98	-0.20
				1	0
			]

						spine [0 0 0,0 0.6 0 0 0.7 0]
						scale [0.35 0.35 0.45 0.45 0.45 0.45]
						#creaseAngle	 0.2
						solid FALSE
						beginCap TRUE
						endCap TRUE
							}
							appearance	Appearance {
								texture ImageTexture { url "sontit.jpg"}
							}
						}
				
					]
				}

				Transform {
					children Transform {
						
						
						translation	0 0.71 0
						children Shape {
							geometry Extrusion {
								crossSection [1.00	0.00
											0.98	0.20
											0.92	0.38
											0.83	0.56
											0.71	0.71
											0.56	0.83
											0.38	0.92
											0.20	0.98
											0.00	1.00
											-0.20	0.98
											-0.38	0.92
											-0.56	0.83
											-0.71	0.71
											-0.83	0.56
											-0.92	0.38
											-0.98	0.20
											-1.00	0.00
											-0.98	-0.20
											-0.92	-0.38
											-0.83	-0.56
											-0.71	-0.71
											-0.56	-0.83
											-0.38	-0.92
											-0.20	-0.98
											0.00	-1.00
											0.20	-0.98
											0.38	-0.92
											0.56	-0.83
											0.71	-0.71
											0.83	-0.56
											0.92	-0.38
											0.98	-0.20
											1	0]
								spine [ 0 0 0 0 0.05 0  0 0.1 0  0 0.15 0 0 0.2 0]
								scale [0.47 0.47  0.43 0.43 0.4 0.4 0.35 0.35 0.3 0.3 ]
								solid FALSE
							}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
								}
							}
						}
					}
				}
				
			]
		}
#vai den cùi trỏ


#tay phai


Transform {
			rotation 1 0 0 0
			translation	0 2 0
			children [
				
Transform{

		  translation  0 -2 0
		  
		children[
			
Transform {
			rotation 0 0 1 -0.1
			translation	-0.9 2.1 0
			children DEF left-hand Transform {
				rotation 1 0 0 0.1
				children [
					Shape {
						
						geometry Sphere	{radius 0.3}
						appearance Appearance {
							material Material {
								diffuseColor 0 0 0
								specularColor .29 .3 .29
								ambientIntensity 0
								shininess .08
							}
						}
					}

					Shape {
						geometry Extrusion {
							crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
								0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
								-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
								0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]
							spine [0 0 0,0 -0.3 0,0 -1.25 0]
							scale [0.3 0.3,0.25 0.25,0.2 0.25]
						}
						appearance Appearance {
							material Material {
								diffuseColor 0 0 0
								specularColor .29 .3 .29
								ambientIntensity 0
								shininess .08
							}
						}
						
					}
					Transform {
						scale 1 1 1.3
						translation	0 -1.3 -0.02
						children Shape {
							
							geometry Sphere {radius 0.19}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
									specularColor .29 .3 .29
									ambientIntensity 0
									shininess .08
								}
							}
						}
					}]}}
# cang tay 
Transform {
				translation	-1 0.8 -0.12
				  
				children [
					Transform {
						
						
						children Shape {
							geometry Extrusion {
								crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
									0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
									-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
									0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]
								spine [0 0 0,0 -0.2 0, 0 -1.75 0]
								scale [0.2 0.25, 0.25 0.2,0.1 0.15]
							}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
									specularColor .29 .3 .29
									ambientIntensity 0
									shininess .08
								}
							}
						
						}
					}
					Transform {
						children [DEF bantay Transform {
						
						translation	0 0.2 0
							children [
								 
								Transform {
									translation	0 -2 0
									children Shape {
										geometry Sphere {radius 0.15}
										appearance Appearance	{
											material Material {
												diffuseColor .8 .51 .09
												specularColor .92 .43 .01
												ambientIntensity .117
												shininess .4
											}
										}
									}
								}
								#ngontay
								Transform {
									rotation 0 0 1 0.8
									translation	0.1 -2.1 0
									children [DEF ngontay Shape {
										geometry Cylinder {
											height 0.2
											radius 0.05}
										appearance Appearance	{
											material Material {
												diffuseColor .8 .51 .09
												specularColor .92 .43 .01
												ambientIntensity .117
												shininess .4
											}
										}
									
									}
								]
								}
								Transform {
									translation	0 -2.15 0
									children [USE ngontay ]
								}
								Transform {
									rotation 0 0 1 -0.8
									translation	-0.1 -2.1 0
									children [USE ngontay ]
								}
							]
						}]
					}
				]} 
# ban tay
					
					
					]
				}
				]
		}


#tay trai
Transform {
		
			translation	0.9 2.1 0
			children DEF tay_trai Transform {
				rotation 1 0 0 0.1
				children [
					Shape {
						
						geometry Sphere	{radius 0.3}
						appearance Appearance {
							material Material {
								diffuseColor 0 0 0
								specularColor .29 .3 .29
								ambientIntensity 0
								shininess .08
							}
						}
					}

					#baptay
					Shape {
						geometry Extrusion {
							crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
								0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
								-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
								0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]
							spine [0 0 0,0 -0.3 0,0 -1.25 0]
							scale [0.3 0.3,0.25 0.25,0.2 0.25]
						}
						appearance Appearance {
							material Material {
								diffuseColor 0 0 0
								specularColor .29 .3 .29
								ambientIntensity 0
								shininess .08
							}
						}
						
					}
					Transform {
						scale 1 1 1.3
						translation	0 -1.25 -0.02
						children Shape {
							
							geometry Sphere {radius 0.19}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
									specularColor .29 .3 .29
									ambientIntensity 0
									shininess .08
								}
							}
						}
					}

					#cangtay
					Transform {
						translation	0 -1.25 0
						rotation 1 0 0 -0.2
						children [Shape {
							geometry Extrusion {
								crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
									0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
									-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
									0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]
								spine [0 0 0,0 -0.2 0, 0 -1.75 0]
								scale [0.2 0.25, 0.25 0.2,0.1 0.15]
							}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
									specularColor .29 .3 .29
									ambientIntensity 0
									shininess .08
								}
							}
						
						}
						#bantay
						Transform {
							children [USE bantay ]
						}
					]
					}
				

				]}
					
				}


##### hong

Transform {
			children Shape {
				geometry Extrusion {
					crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
						0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
						-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
						0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]

					spine [0 0 0,0 -0.05 0,0 -0.1 0,0 -0.15 0,0 -0.2 0,0 -0.25 0,0 -0.3 0, 0 -0.35 0]
					scale [0.8 0.4, 0.8 0.39,0.78 0.38,0.7 0.35,0.6 0.31,0.47 0.2,0.2 0.1,0 0]
				}
				appearance DEF black Appearance {
					material Material {
						diffuseColor 0 0 0
					}
				}
			}
		}
		#Chân
		Transform {
			translation	0.4 -0.2 0
			children DEF chan_phai Transform {	
				children [
					#Đùi
					Transform {
						rotation 1 0 0 -0.05
						children [
							Shape {
								geometry Sphere	{radius 0.4}
								appearance  Appearance {
									material Material {
										diffuseColor 0 0 0
									}
								}
							}
							Transform {
								children Shape {
									geometry Extrusion {
										crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
											0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
											-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
											0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]

										spine [0 0 0, 0 -1.5 0]
										scale [0.4 0.4,0.3 0.3]
									}
									appearance Appearance {
										material Material {
											diffuseColor 0 0 0
										}
									}
								}
							}
							Transform {
								translation	0 -1.5 0
								children Shape {
									geometry Sphere	{radius 0.3}
									appearance  Appearance {
										material Material {
											diffuseColor 0 0 0
										}
									}
								}
							}
						]
					}
					#cẳng
					Transform {
						translation	0 -1.6 0
						children Transform {
							rotation 1 0 0 0.1
							translation	0 0 0.1
							children[
			    				Shape {
									geometry Extrusion {
										crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
											0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
											-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
											0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]

										spine [0 0 0,0 -0.5 0 0 -2 0]
										scale [0.25 0.25, 0.3 0.3,0.15 0.15]
									}
									appearance Appearance {
										material Material {
											diffuseColor 0 0 0
										}
									}
								}
							]
						}
			
					}
					Transform {
						translation	0 -3.5 -0.25
						scale 1.5 1.5 1.5
						rotation 1 0 0 -1.57
						children Shape {
							geometry Extrusion {
								crossSection	[0 -0.1,0.5 -0.1,0.45 0.03,0.4 0.04,0.35,0.05,0.3 0.08,0.25 0.1,0.2 0.2,0 0.2,0 -0.1]
								spine [-0.1 0 0,0.1 0 0]
							}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
								}
							}
						}
					}
				]
			}
		}
		Transform {
			translation	-0.4 -0.2 0
			children DEF chan_trai Transform {
				children [
					#Đùi
					Transform {
						rotation 1 0 0 -0.05
						children [
							Shape {
								geometry Sphere	{radius 0.4}
								appearance  Appearance {
									material Material {
										diffuseColor 0 0 0
									}
								}
							}
							Transform {
								children Shape {
									geometry Extrusion {
										crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
											0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
											-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
											0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]

										spine [0 0 0, 0 -1.5 0]
										scale [0.4 0.4,0.3 0.3]
									}
									appearance Appearance {
										material Material {
											diffuseColor 0 0 0
										}
									}
								}
							}
							Transform {
								translation	0 -1.5 0
								children Shape {
									geometry Sphere	{radius 0.3}
									appearance  Appearance {
										material Material {
											diffuseColor 0 0 0
										}
									}
								}
							}
						]
					}
					#cẳng
					Transform {
						translation	0 -1.6 0
						children Transform {
							rotation 1 0 0 0.1
							translation	0 0 0.1
							children[
			    				Shape {
									geometry Extrusion {
										crossSection [1 0 , 0.94 -0.355,0.71 -0.71,0.355 -0.94
											0 -1,-0.355 -0.94 ,-0.71 -0.71,	 -0.94 -0.355
											-1 0 ,-0.94 0.355, -0.71 0.71,  -0.355 0.94
											0 1 ,0.355 0.94, 0.71 0.71 , 0.94 0.355 ,1 0]

										spine [0 0 0,0 -0.5 0 0 -2 0]
										scale [0.25 0.25, 0.3 0.3,0.15 0.15]
									}
									appearance Appearance {
										material Material {
											diffuseColor 0 0 0
										}
									}
								}
							]
						}
			
					}
					Transform {
						translation	0 -3.5 -0.25
						scale 1.5 1.5 1.5
						rotation 1 0 0 -1.57
						children Shape {
							geometry Extrusion {
								crossSection	[0 -0.1,0.5 -0.1,0.45 0.03,0.4 0.04,0.35,0.05,0.3 0.08,0.25 0.1,0.2 0.2,0 0.2,0 -0.1]
								spine [-0.1 0 0,0.1 0 0]
							}
							appearance Appearance {
								material Material {
									diffuseColor 0 0 0
								}
							}
						}
					}
				]
			}
		}
]} 
  
   DEF ma Script {

eventIn SFBool  turnOn

eventOut SFBool On

eventOut SFBool Off

field SFBool turn TRUE

url "javascript:

function turnOn(val){

if(val){

turn = !turn;

if(turn)

{

On= TRUE;

                        Off=FALSE;

            }

        else

        {

                        On=FALSE;

Off=TRUE;

        }

            }

    }

    "
}

		
		DEF	timerPRJ1 TimeSensor {
			cycleInterval 0.5
			enabled	FALSE
		}
		DEF	timerPRJ2 TimeSensor {
			cycleInterval 0.5
			enabled	FALSE
		}
		DEF	sInter1 ScalarInterpolator {
			key	[0 1]
			keyValue [1 0]
		}
		DEF	sInter2	ScalarInterpolator {
			key	[0 1]
			keyValue [0 1]
		}

# nguoi di chuyen 
DEF time1 TimeSensor {
  cycleInterval	 1.5
  loop TRUE
  enabled FALSE
  
}
DEF time2 TimeSensor {
  cycleInterval	 1.5
  loop TRUE
  enabled FALSE
}
DEF	quay1 OrientationInterpolator	{
	key	[0 0.5 1]
	keyValue [1 0 0 0.6,1 0 0 -0.6,1 0 0 0.6]
}
DEF	quay2 OrientationInterpolator	{
	key	[0 0.5 1]
	keyValue [1 0 0 -0.6,1 0 0 0.6,1 0 0 -0.6]
}
 
DEF ma1 Script {

eventIn SFBool  turnOn

eventOut SFBool On

eventOut SFBool Off

field SFBool turn FALSE

url "javascript:

function turnOn(val){

if(val){

turn = !turn;

if(turn)

{

On= TRUE;

                        Off=FALSE;

            }

        else

        {

                        On=FALSE;

Off=TRUE;

        }

            }

    }

    "
}


 # hieu ung di 
 ROUTE  touch1.isActive	 TO	 ma1.turnOn
 ROUTE ma1.On  TO time1.enabled
 ROUTE touch1.touchTime	 TO	time1.startTime
 ROUTE time1.fraction_changed TO quay1.set_fraction
 ROUTE quay1.value_changed	TO tay_trai.rotation
 ROUTE quay1.value_changed	TO chan_trai.rotation
# quay ve 


 ROUTE  touch1.isActive	 TO	 ma1.turnOn
 ROUTE ma1.On  TO time2.enabled
 ROUTE touch1.touchTime	 TO	time2.startTime
 ROUTE time2.fraction_changed TO quay2.set_fraction
 ROUTE quay2.value_changed	TO chan_phai.rotation

# di chuyen
DEF	time3 TimeSensor {
	cycleInterval 10
	loop FALSE
	enabled	FALSE
}
DEF	time4 TimeSensor {
	cycleInterval 20
	loop TRUE
	enabled	FALSE
}



DEF	dichuyen1 PositionInterpolator	{
	key	[0,0.15,0.2, 0.45,0.5 ,1]
	keyValue [ 0 0 0 , 5 0 0   ,7 0 0 , 10 0 0  10 0 0  10 0 0  ]
}

DEF	quay3 OrientationInterpolator	{
	key	[0   0.5 0.95 1]
	keyValue [0 1 0 1.57, 0 1 0 1.57, 0 1 0 0, 0 1 0 0]
}
# di chuyen di vao 


DEF	quay4 OrientationInterpolator	{
	key	[0 0.1 0.15    0.5  1]
	keyValue [0 1 0 0, 0 1 0 0, 0 1 0 -1.57, 0 1 0 -1.57   0 1 0 -1.57 ]
}
DEF	dichuyen4 PositionInterpolator	{
	key	[0 0.1 0.15    0.5  1]
	keyValue [ 10 0 0 ,  10 0 0 , 10 0 0,  5 0 0 ,0 0 0 ]
}
 #ng di ra 
ROUTE  touch1.isActive	 TO	 ma1.turnOn
ROUTE ma1.On  TO time3.enabled
ROUTE touch1.touchTime	 TO	time3.startTime
ROUTE time3.fraction_changed TO dichuyen1.set_fraction
ROUTE time3.fraction_changed TO quay3.set_fraction
ROUTE dichuyen1.value_changed TO nguoi.translation
ROUTE quay3.value_changed	TO nguoi.rotation

#Di vao 
#ROUTE  touch1.isActive	 TO	 ma1.turnOn
#ROUTE ma1.Off  TO time4.enabled
#ROUTE touch1.touchTime	 TO	time4.startTime
#ROUTE time4.fraction_changed TO dichuyen4.set_fraction
#ROUTE time4.fraction_changed TO quay4.set_fraction
#ROUTE dichuyen4.value_changed TO nguoi.translation
#ROUTE quay4.value_changed	TO nguoi.rotation



